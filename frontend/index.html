<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KickerDC</title>
    <style>
        table {
            width: 100%;
            border: 1px solid black;
            padding: 5px;
            margin-bottom: 25px;
        }

        caption {
            text-align: left;
            font-size: 1.4em;
            margin-bottom: 12px;
        }

        thead {
            background: #1f1f1f;
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f1f1f1;
        }
        td {
            padding: 5px;
        }
    </style>
</head>
<body>

<h1>Kicker Dashcam</h1>

<h2>API endpoints</h2>
<table>
    <thead>
    <tr>
        <td>url</td>
        <td>method</td>
        <td>response</td>
    </tr>
    </thead>
    <caption>Table</caption>
    <tbody>
    <tr>
        <td>/table</td>
        <td><code>GET</code></td>
        <td>Returns all tables in an array</td>
    </tr>
    <tr>
        <td>/table</td>
        <td><code>POST</code></td>
        <td>Creates a new table and returns it</td>
    </tr>
    <tr>
        <td>/table/:tableId</td>
        <td><code>GET</code></td>
        <td>Returns the data set from the database when found by tableId.</td>
    </tr>
    <tr>
        <td>/table/:tableId</td>
        <td><code>PUT</code></td>
        <td>Sets <code>occupied</code> to <code>false</code> and <code>occupiedUntil</code> to the moment when the function is called of the table matching to the given parameter. </td>
    </tr>
    <tr>
        <td>/table/:tableId</td>
        <td><code>PATCH</code></td>
        <td>Finds the table with the given Id and set it occupied. It will be reset after 30 minutes by the server.</td>
    </tr>
    </tbody>
</table>

<table>
    <thead>
    <tr>
        <td>url</td>
        <td>method</td>
        <td>response</td>
    </tr>
    </thead>
    <caption>User</caption>
    <tbody>
    <tr>
        <td>/user</td>
        <td><code>GET</code></td>
        <td>Returns all registered users.</td>
    </tr>
    <tr>
        <td>/user</td>
        <td><code>POST</code></td>
        <td>Adds a user. <code>email</code> and <code>name</code> are required parameters email is unique.</td>
    </tr>
    <tr>
        <td>/user</td>
        <td><code>DELETE</code></td>
        <td>Removes a user when the userId has the access level. Query parameter are<code>userId</code> which is the id of the admin and <code>deleteUserId</code> for the id fo the user who has to be deleted.</td>
    </tr>
    <tr>
        <td>/user/:userId</td>
        <td><code>GET</code></td>
        <td>Returns the user with the given id.</td>
    </tr>
    </tbody>
</table>

<h2>Sockets</h2>
<table>
    <thead>
    <tr>
        <td>name</td>
        <td>description</td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td><code>table::occupied::true</code></td>
        <td>Table was set to occupied.</td>
    </tr>
    <tr>
        <td><code>table::occupied::false</code></td>
        <td>Table was set to free.</td>
    </tr>
    </tbody>
</table>
<hr>
<div>
    <h3>Example</h3>
    <p>
        TableStatus: <span id="tableStatus">frei</span>
    </p>
</div>

<script src="main.js"></script>


<!--
<script src="https://api.kckr.io:63064/socket.io/socket.io.js"></script>
-->
<script src="http://localhost:8090/socket.io/socket.io.js"></script>
<script>
	window.socket = io('http://localhost:8090');
	//const socket = io('https://api.kckr.io:63064');
</script>


</body>
</html>
